<clr-doc-wrapper [ng]="ng" [ui]="ui" [title]="title" [newLayout]="newLayout">
    <article>
        <h5 class="component-summary" id="summary">
            File upload inputs are used to allow a user to upload files to the server, and Clarity supports both a CSS only and Angular component. You may wish to review the general <a routerLink="../../forms">forms</a> documentation about form controls.
        </h5>

        <h2 id="forms-code-samples">Angular File Upload Component</h2>

        <p>If you are using Angular, the recommended approach is to always use the <code class="clr-code">ClrFile</code> directive on your file inputs to help manage the form control. By using <code class="clr-code">ClrInput</code>, you'll automatically be able to leverage built in validation, helper text, and layout features in forms.</p>

        <p>It is important to note that this file upload component uses a standard HTML file input control, and does not include any special capabilities such as an upload progress bar, retry, and similar features. Those are currently up to applications to implement based on their backend server.</p>

        <h4>Basic input</h4>

        <p>This is the most basic way to create an input inside of a form. This is only if you don't have a need for a label or validation. You need to add <code class="clr-code">clrInput</code> to your input to wire up the directive. Notice, it is not necessary to add <code class="clr-code">type="text"</code> as it is handled automatically. It will only work if you have the control wired up with either a template driven form or reactive form.</p>
        
        <p></p>

        <input clrFile type="file" placeholder="My input" name="input" [(ngModel)]="exampleOne" />

        <p></p>

        <clr-code-snippet [clrCode]="ngBasic"></clr-code-snippet>
        
        <h4>Labels</h4>

        <p>For anything beyond a standalone file upload field, you'll need to wrap your input with the <code class="clr-code">ClrFileContainer</code> component. This is required to contain all of the logic and validation details for the individual file upload control.</p>

        <p>Then you can add a <code class="clr-code">label</code> element and it will automatically get laid out correctly in the form.</p>

        <p></p>

        <form clrForm>
            <clr-input-container>
                <label>My name</label>
                <input clrFile type="file" name="filename" [(ngModel)]="exampleTwo" />
            </clr-input-container>
        </form>

        <p></p>
        
        <clr-code-snippet [clrCode]="ngLabel"></clr-code-snippet>
        
        <h4>Helper and error messages</h4>

        <p>The file upload form control wires up with the validations placed on an input, such as <code class="clr-code">required</code> or even custom built validators in Angular. Under the hood, it looks at the <code class="clr-code">NgControl</code> values to determine the control validitity, and display the helper text or error message accordingly.</p>
        
        <p>Note: the validation only displays an error after the user has left focus on an input. This is for better UX where the user doesn't see an error while they are still typing.</p>

        <p></p>
        
        <form clrForm>
            <clr-file-container>
                <label>Resume</label>
                <input clrFile type="file" [(ngModel)]="exampleThree" name="filename" required />
                <clr-control-helper>Please upload your resume</clr-control-helper>
                <clr-control-error>This field is required!</clr-control-error>
            </clr-file-container>
        </form>

        <p></p>
        
        <clr-code-snippet [clrCode]="ngHelpers"></clr-code-snippet>
        



        <h2 id="css-component">CSS File Upload Component</h2>
        
        <p>File uploads can be used without Angular, but without some of the automatic interactivity. If you intend to create your own components, here are the basic features you'll need to build out.</p>

        <h4>Basic file upload</h4>
        
        <p>It is possible to display the file upload input by having the input inside of a <code class="clr-code">clr-file-wrapper</code> element and placing classes on the label and input as you see below. This may be useful in simple cases where you don't need a full form and just an inline input.</p>

        <p></p>

        <div class="clr-file-wrapper">
            <label for="basic" class="clr-control-label"><span class="btn btn-sm">browse</span></label>
            <input type="file" id="basic" class="clr-file">
        </div>

        <p></p>
        
        <clr-code-snippet [clrCode]="uiBasic"></clr-code-snippet>

        <h4>Full input display</h4>

        <p>Each form control has a <code class="clr-code">.clr-form-control</code> wrapper, as well as a specific DOM structure necessary to layout the form control as desired. This works with all layout options as well without needing to change the DOM structure in any way.</p>

        <p></p>

        <form class="clr-form">
            <div class="clr-form-control">
                <label for="basic" class="clr-control-label">Basic input</label>
                <div class="clr-control-container">
                <div class="clr-input-wrapper">
                    <input type="text" id="basic" placeholder="Enter value here" class="clr-input">
                    <clr-icon class="clr-validate-icon" shape="exclamation-circle"></clr-icon>
                </div>
                <span class="clr-subtext">Helper Text</span>
                </div>
            </div>
        </form>

        <p></p>
        
        <clr-code-snippet [clrCode]="uiFull"></clr-code-snippet>
        
        <h4>Error state</h4>

        <p>To signify an error state, you need to add the <code class="clr-code">.clr-error</code> class to the <code class="clr-code">.clr-control-container</code> element. This will show the <code class="clr-code">.clr-validate-icon</code> and turn the <code class="clr-code">.clr-subtext</code> message to red. If you have helper text that needs to change to error content, you'll have to handle the hiding and showing of that content inside of the <code class="clr-code">.clr-subtext</code> element.</p>
        
        <p></p>

        <form class="clr-form">
            <div class="clr-form-control clr-row">
                <label for="example" class="clr-control-label clr-col-12 clr-col-md-2">Label</label>
                <div class="clr-control-container clr-error clr-col-12 clr-col-md-10">
                    <div class="clr-input-wrapper">
                        <input type="text" id="example" placeholder="Example Input" class="clr-input">
                        <clr-icon class="clr-validate-icon" shape="exclamation-circle"></clr-icon>
                    </div>
                    <span class="clr-subtext">Helper Text</span>
                </div>
            </div>
        </form>

        <p></p>

        <clr-code-snippet [clrCode]="uiError"></clr-code-snippet>




        <div id="design-guidelines">
            <h3 id="guidelines">Design Guidelines</h3>

            <div class="alert alert-info">
                <div class="alert-items">
                    <div class="alert-item static">
                        <div class="alert-icon-wrapper">
                            <clr-icon class="alert-icon" shape="info-circle"></clr-icon>
                        </div>
                        <span class="alert-text">
                            The UX design guidelines documentation is currently a work in progress, and will be updated when they are ready.
                        </span>
                    </div>
                </div>
            </div>
        </div>

    </article>
</clr-doc-wrapper>
